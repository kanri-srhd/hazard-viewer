<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />

  <title>çµ±åˆãƒ“ãƒ¥ãƒ¼ã‚¢ï¼ˆãƒã‚¶ãƒ¼ãƒ‰ Ã— åœ°ç•ª Ã— é€é›»ç¶² Ã— ç©ºãå®¹é‡ï¼‰</title>

  <!-- MapLibre GL -->
  <link href="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://unpkg.com/maplibre-gl@3.6.1/dist/maplibre-gl.js"></script>

  <!-- ã‚¢ãƒ—ãƒªã®ã‚¹ã‚¿ã‚¤ãƒ« -->
  <link rel="stylesheet" href="./style.css" />

  <style>
    body, html {
      margin: 0; padding: 0; height: 100%; width: 100%;
      font-family: sans-serif;
      background: #fafafa;
    }
    #map {
      position: absolute;
      top: 0; bottom: 0; left: 0; right: 0;
      width: 100%; height: 100%;
    }
    #layer-toggle {
      background: white;
      border-radius: 6px;
      padding: 10px;
      font-size: 14px;
    }
    
    /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ */
    #hazard-loading {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 10px 16px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      z-index: 1000;
      display: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      animation: pulse 1.5s ease-in-out infinite;
    }
    #hazard-loading.visible {
      display: block;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 0.9; }
      50% { opacity: 0.6; }
    }
    
    /* æ¤œç´¢ãƒãƒ¼ï¼ˆç”»é¢ä¸Šä¸­å¤®ï¼‰ */
    #search-bar {
      position: absolute;
      top: 12px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;
      background: white;
      border-radius: 8px;
      padding: 8px 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.15);
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    #global-search-input {
      width: 320px;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 8px 12px;
      font-size: 14px;
      outline: none;
      transition: border 0.2s;
    }
    
    #global-search-input:focus {
      border-color: #4285f4;
    }
    
    #global-search-btn {
      background: #4285f4;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    #global-search-btn:hover {
      background: #3367d6;
    }
    
    #global-search-btn:active {
      background: #2851a3;
    }
    
    /* ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‘ãƒãƒ«èª¿æ•´ï¼ˆæ¤œç´¢çª“ã‚’é¿ã‘ã‚‹ï¼‰ */
    #layer-toggle-panel {
      position: absolute;
      top: 90px !important;
      left: 10px;
      z-index: 1000;
    }
    
    /* ãƒ”ãƒ³å‰Šé™¤ãƒœã‚¿ãƒ³ï¼ˆå³ä¸‹ï¼‰ */
    #clear-pins-btn {
      position: absolute;
      bottom: 50px;
      right: 10px;
      z-index: 1000;
      background: white;
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 10px 14px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      transition: all 0.2s;
    }
    
    #clear-pins-btn:hover {
      background: #f5f5f5;
      box-shadow: 0 2px 12px rgba(0,0,0,0.25);
    }
    
    #clear-pins-btn:active {
      background: #e0e0e0;
    }
  </style>
</head>

<body>

  <!-- Map container -->
  <div id="map"></div>

  <!-- æ¤œç´¢ãƒãƒ¼ -->
  <div id="search-bar">
    <input id="global-search-input" type="text" placeholder="ä½æ‰€ãƒ»åœ°ç•ªãƒ»åº§æ¨™ã‚’å…¥åŠ›" />
    <button id="global-search-btn">ğŸ” æ¤œç´¢</button>
  </div>

  <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ -->
  <div id="hazard-loading">ğŸ”„ ãƒã‚¶ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ä¸­...</div>

  <!-- ãƒ”ãƒ³å‰Šé™¤ãƒœã‚¿ãƒ³ -->
  <button id="clear-pins-btn">ğŸ—‘ ãƒ”ãƒ³å‰Šé™¤</button>

  <!-- èˆªç©ºå†™çœŸ UI -->
  <div id="photo-control" style="
      position: absolute;
      top: 150px;
      left: 10px;
      z-index: 999;
      background: white;
      padding: 10px 14px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.25);
      font-size: 13px;
  ">
    <label style="display:flex;align-items:center;gap:6px;">
      <input type="checkbox" id="toggle-photo"/>
      èˆªç©ºå†™çœŸ
    </label>
    <div style="margin-top:6px;">
      <input type="range" id="photo-opacity" min="0" max="1" step="0.05" value="0.4" style="width:150px;">
    </div>
  </div>

  <!-- ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ‡æ›¿ UIãƒ‘ãƒãƒ«ã¯ ui.js ãŒå‹•çš„è¿½åŠ  -->

  <!-- MapLibre ãƒ™ãƒ¼ã‚¹ã® main.js ã‚’èª­ã¿è¾¼ã‚€ -->
  <script type="module" src="./main.js"></script>

</body>
</html>
